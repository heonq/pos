# POS

## 레이아웃

### 카테고리별 보기

<image src="./images/payment_view1.jpg" width="800px">

### 전체 보기

<image src="./images/payment_view2.jpg" width="800px">

### 헤더

- [x] 상품관리,판매내역,현금점검,대시보드 버튼을 누를 경우 모달 창 표시

#### 보기모드

- [x] 버튼 클릭 시 드롭다운 형식으로 모드 선택
  - 카테고리별 보기모드
  - 전체 보기모드
- [x] 선택한 모드로 상품을 렌더
- [x] 보기모드 선택 후 드롭다운을 접는다.
- [x] 버튼에 현재 선택된 모드가 텍스트로 표시된다.
- [x] 드롭다운을 펼쳤을 때 현재 선택된 모드를 표시한다.
- [x] 버튼 외의 부분을 누르면 드롭다운이 접힌다.

#### 상품탭

- [x] 버튼 클릭 시 드롭다운에 메뉴 표시
  - [x] 상품 관리,상품 추가,카테고리 관리

##### 상품관리

- 엑셀 다운 버튼
- 선택한 상품 수정
  - 삭제
  - 전시상태 변경
  - 카테고리 변경
- 상품 검색
  - 카테고리 설정
  - 상품 상태 설정
  - 검색버튼
- 상품 선택 박스
- 상품명
- 가격
- 바코드
- 카테고리 선택
- 전시상태 변경
- 삭제

##### 상품추가

- 엑셀 파일 업로드하여 상품 추가
- 상품명
- 가격
- 바코드
- 카테고리
- 삭제

##### 카테고리 관리

카테고리

#### 판매내역

- 판매번호
- 판매상품
- 결제금액
- 결제수단
- 비고
- 판매날짜
- 판매시간
- 내역삭제
- 내역수정

#### 현금점검

- 현금점검 내역 출력

  - 점검시간
  - 준비금
  - 현금판매액
  - 화폐별 수량
  - 총 금액
  - 보유 금액 - 입력 금액 출력

- 현금 점검
- 준비금 입력(최초 입력 이후 자동으로 입력)
- 현재 보유 현금 출력(준비금 포함)
- 화폐별 수량 입력
- 보유 금액 - 입력 금액 출력

#### 대시보드

- 날짜 선택
  - 판매 내역이 있는 날짜만 표시되도록 설정
- 총 판매액
- 카드 판매액
- 현금 판매액
- 계좌이체 판매액
- 표시 내역 추가
- 표시 내역 삭제

#### 판매번호

- 최종 판매내역 번호를 표시
- 판매내역 삭제 시 번호 업데이트

---

### 메인 섹션

#### 상품섹션

- 카테고리별 보기
- [x] 서버에서 카테고리를 불러온다.
- [x] 저장되어 있는 진열 순서로 카테고리를 진열한다.
- [x] 서버에서 상품정보를 불러온다.
- [x] 진열 여부가 true인 카테고리만 진열한다.
- [x] 각 카테고리에 속한 상품 중 진열 여부가 true인 상품을 각 카테고리 섹션에 진열한다.

- 전체상품 보기
- [x] 서버에서 카테고리를 불러온다.
- [x] 서버에서 상품정보를 불러온다.
- [x] 카테고리 진열 순서에 맞춰서 상품을 진열한다.
- [x] 진열 여부가 true인 상품만 진열한다.

- 발생 가능한 케이스

  1. 카테고리는 없지만 상품이 있는 경우
  2. 상품이 없는 경우
  3. 카테고리와 상품 모두 있는 경우

  - 3-1. 모든 상품에 카테고리가 설정되지 않은 경우
  - 3-2. 상품 중 카테고리가 일부에 설정되어 있고 일부에 설정되지 않은 경우
  - 3-3. 모든 상품에 카테고리가 설정되어 있는 경우

- 각 케이스를 확인하기 위한 데이터

- 상품 데이터

  - 진열 여부가 true인 상품이 존재하는지 확인한다.
  - 상품에 진열 여부가 true인 카테고리가 있는지 확인한다.
    - [ ] 모든 상품에 카테고리가 설정되어 있다.
    - [ ] 일부 상품에 카테고리가 설정되어 있다.
    - [ ] 모든 상품에 카테고리가 설정되어 있지 않다.

- 카테고리 데이터

  - 진열 여부가 true인 카테고리가 존재하는지 확인한다.
    - [ ] 진열 여부가 true인 카테고리에 상품이 존재하는지 확인한다.
    - [ ] 모든 카테고리에 상품이 존재한다.
    - [ ] 일부 카테고리에 상품이 존재한다.
    - [ ] 모든 카테고리에 상품이 존재하지 않는다.

- 각 케이스에 대한 대처
- 1,3-1 -> '카테고리 없음'에 모든 상품을 진열
- 2 -> '상품이 없습니다.'메시지 출력
- 3-2 -> 각 카테고리에 상품을 진열하고 '카테고리 없음'에 카테고리 없는 상품을 진열
- 3-3 -> 모든 상품을 각 카테고리에 진열

- 필요한 기능 (정상 케이스 -> 예외 케이스 순)

- 케이스 3-3 -> 진열할 상품과 카테고리가 모두 존재할 경우

1. [ ] 카테고리 정보를 불러온다.
2. [ ] 진열 순서에 따라 카테고리를 정렬한다.
3. [ ] 카테고리 진열 여부가 true인 카테고리를 filter 한다.
4. [ ] 상품 정보를 불러온다.
5. [ ] 상품 진열 여부가 true인 상품을 filter 한다.
6. [ ] 각 상품을 카테고리 진열 순서에 따라 정렬한다.

- 상품 데이터 형태
  - 상품에 카테고리 진열 순서 데이터를 추가하고(카테고리 배열의 index+1) 순서에 따라 정렬한 일차원배열
  - 카테고리가 적용되지 않은 상품에 대해 진열 순서 데이터가 0이 적용된다.

7. 카테고리 배열 순환
8. [ ] 진열 순서 데이터가 순환하는 index+1인 상품을 filter 한 배열을 가져온다.
9. [ ] 위에서 얻은 배열을 순환하며 컴포넌트를 생성해 배열에 담는다.
10. [ ] 카테고리별로 컴포넌트 배열을 하나의 문자열로 합친 배열을 가져온다.
11. [ ] 카테고리 텍스트를 렌더한다.
12. [ ] 카테고리에 해당하는 컴포넌트를 렌더한다.

- 케이스 3-2 -> 상품과 카테고리 모두 있지만 상품 중 일부는 카테고리가 설정되지 않았을 경우

1. [ ] 케이스 3-3에서 12번까지 실행한다.
2. [ ] 만약 상품 배열에 진열 순서가 0인 상품으로 배열을 만든다.
3. [ ] '카테고리 없음' 텍스트를 렌더한다.
4. [ ] 카테고리 없는 상품 배열을 순환하며 컴포넌트를 생성한다.
5. [ ] 컴포넌트를 하나의 문자열로 합친다.
6. [ ] 컴포넌트를 통해 렌더한다.

- 케이스 1,3-1 -> 상품은 있지만 진열할 카테고리가 존재하지 않을 때

1. [ ] 케이스 3-3에서 6번까지 실행한다. (빈 배열이 반환 여부를 확인)
2. [ ] 모든 상품을 이용해 컴포넌트를 생성한다.(배열)
3. [ ] 케이스 3-2의 3번부터 실행한다.

- 케이스 2 -> 진열할 상품이 존재하지 않는 경우

1. [ ] 상품 컨테이너에 '상품이 없습니다.'메시지를 출력한다.

#### 장바구니

- 상품명
- 상품가격
- 상품수량
- 수량 조절

- [ ] 진열 상품을 클릭하면 localStorage에서 장바구니 데이터를 불러온다.
- [ ] 장바구니 데이터 내에 진열 상품의 데이터가 존재할 경우 수량을 1 더한다.
- [ ] 존재하지 않을 경우 해당 상품을 추가한다.
- [ ] 불러온 장바구니 데이터를 이용해 장바구니에 상품을 렌더한다.
  - [ ] 상품 이름
  - [ ] 상품 가격 \* 수량을 통해 해당 상품의 총 가격
  - [ ] 상품 수량
- [ ] 가격의 총합을 결제 금액창에 표시한다.

#### 결제수단

- 카드결제
- 분할결제
- 할인적용
- 기타결제
- 현금결제
- 계좌이체

#### 결제완료 섹션

- 결제 금액
- 결제완료 버튼
- 초기화 버튼
